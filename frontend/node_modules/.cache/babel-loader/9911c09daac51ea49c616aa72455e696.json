{"ast":null,"code":"import Cookies from 'js-cookie';\nimport axios from 'axios';\nimport applyMiddleware from 'axios-case-converter'; // interface\n\n// url\nimport { AUTH, signInUser } from '../urls'; // キャメルケース スネークケース変換\n// headerは適用無視\n\nconst options = {\n  ignoreHeaders: true\n};\nconst client = applyMiddleware(axios.create(), options); // サインアップ\n\nexport const signUp = params => {\n  return axios.post(AUTH, params);\n}; //サインイン\n\nexport const signIn = params => {\n  return axios.post(`${AUTH}/sign_in`, params);\n}; // サインアウト\n\nexport const signOut = () => {\n  return axios.delete(`${AUTH}/sign_out`, {\n    headers: {\n      \"access-token\": Cookies.get(\"_access_token\") || \"\",\n      \"client\": Cookies.get(\"_client\") || \"\",\n      \"uid\": Cookies.get(\"_uid\") || \"\"\n    }\n  });\n}; // 認証済みユーザーの取得\n\nexport const getCurrentUser = () => {\n  if (!Cookies.get(\"_access_token\") || !Cookies.get(\"_client\") || !Cookies.get(\"_uid\")) return;\n  return axios.get(signInUser, {\n    headers: {\n      \"access-token\": Cookies.get(\"_access_token\") || \"\",\n      \"client\": Cookies.get(\"_client\") || \"\",\n      \"uid\": Cookies.get(\"_uid\") || \"\"\n    }\n  });\n};","map":{"version":3,"sources":["/Users/taiki/Desktop/household/frontend/src/api/auth.ts"],"names":["Cookies","axios","applyMiddleware","AUTH","signInUser","options","ignoreHeaders","client","create","signUp","params","post","signIn","signOut","delete","headers","get","getCurrentUser"],"mappings":"AAAA,OAAOA,OAAP,MAAoB,WAApB;AACA,OAAOC,KAAP,MAAkB,OAAlB;AACA,OAAOC,eAAP,MAA4B,sBAA5B,C,CAGA;;AAEA;AACA,SAASC,IAAT,EAAeC,UAAf,QAAiC,SAAjC,C,CAEA;AACA;;AACA,MAAMC,OAAO,GAAG;AAChBC,EAAAA,aAAa,EAAE;AADC,CAAhB;AAIA,MAAMC,MAAM,GAAGL,eAAe,CAACD,KAAK,CAACO,MAAN,EAAD,EAAiBH,OAAjB,CAA9B,C,CAIA;;AACA,OAAO,MAAMI,MAAM,GAAIC,MAAD,IAA0B;AAC9C,SAAOT,KAAK,CAACU,IAAN,CAAWR,IAAX,EAAiBO,MAAjB,CAAP;AACD,CAFM,C,CAIP;;AACA,OAAO,MAAME,MAAM,GAAIF,MAAD,IAA0B;AAC9C,SAAOT,KAAK,CAACU,IAAN,CAAY,GAAER,IAAK,UAAnB,EAA8BO,MAA9B,CAAP;AACD,CAFM,C,CAIP;;AACA,OAAO,MAAMG,OAAO,GAAG,MAAM;AAC3B,SAAOZ,KAAK,CAACa,MAAN,CAAc,GAAEX,IAAK,WAArB,EAAiC;AACpCY,IAAAA,OAAO,EAAE;AACT,sBAAgBf,OAAO,CAACgB,GAAR,CAAY,eAAZ,KAAgC,EADvC;AAET,gBAAUhB,OAAO,CAACgB,GAAR,CAAY,SAAZ,KAA0B,EAF3B;AAGT,aAAOhB,OAAO,CAACgB,GAAR,CAAY,MAAZ,KAAuB;AAHrB;AAD2B,GAAjC,CAAP;AAOD,CARM,C,CAUP;;AAEA,OAAO,MAAMC,cAAc,GAAG,MAAM;AAClC,MAAI,CAACjB,OAAO,CAACgB,GAAR,CAAY,eAAZ,CAAD,IAAiC,CAAChB,OAAO,CAACgB,GAAR,CAAY,SAAZ,CAAlC,IAA4D,CAAChB,OAAO,CAACgB,GAAR,CAAY,MAAZ,CAAjE,EAAuF;AACvF,SAAOf,KAAK,CAACe,GAAN,CAAUZ,UAAV,EAAsB;AAC3BW,IAAAA,OAAO,EAAE;AACP,sBAAgBf,OAAO,CAACgB,GAAR,CAAY,eAAZ,KAAgC,EADzC;AAEP,gBAAUhB,OAAO,CAACgB,GAAR,CAAY,SAAZ,KAA0B,EAF7B;AAGP,aAAOhB,OAAO,CAACgB,GAAR,CAAY,MAAZ,KAAuB;AAHvB;AADkB,GAAtB,CAAP;AAOD,CATM","sourcesContent":["import Cookies from 'js-cookie';\nimport axios from 'axios';\nimport applyMiddleware from 'axios-case-converter';\n\n\n// interface\nimport { SignUpParams, SignInParams } from '../interface';\n// url\nimport { AUTH, signInUser } from '../urls';\n\n// キャメルケース スネークケース変換\n// headerは適用無視\nconst options = {\nignoreHeaders: true\n};\n\nconst client = applyMiddleware(axios.create(), options);\n\n\n\n// サインアップ\nexport const signUp = (params: SignUpParams) => {\n  return axios.post(AUTH, params)\n};\n\n//サインイン\nexport const signIn = (params: SignInParams) => {\n  return axios.post(`${AUTH}/sign_in`, params);\n};\n\n// サインアウト\nexport const signOut = () => {\n  return axios.delete(`${AUTH}/sign_out`, { \n      headers: {\n      \"access-token\": Cookies.get(\"_access_token\") || \"\",\n      \"client\": Cookies.get(\"_client\") || \"\",\n      \"uid\": Cookies.get(\"_uid\") || \"\",\n    },\n  });\n};\n\n// 認証済みユーザーの取得\n\nexport const getCurrentUser = () => {\n  if (!Cookies.get(\"_access_token\") || !Cookies.get(\"_client\") || !Cookies.get(\"_uid\") ) return;\n  return axios.get(signInUser, {\n    headers: {\n      \"access-token\": Cookies.get(\"_access_token\") || \"\",\n      \"client\": Cookies.get(\"_client\") || \"\",\n      \"uid\": Cookies.get(\"_uid\") || \"\",\n    },\n  });\n};\n\n"]},"metadata":{},"sourceType":"module"}