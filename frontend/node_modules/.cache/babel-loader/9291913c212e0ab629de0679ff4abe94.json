{"ast":null,"code":"var _jsxFileName = \"/Users/taiki/Desktop/household/frontend/src/components/Spending/Spending.tsx\",\n    _s = $RefreshSig$();\n\nimport React, { useState, useEffect, useContext } from 'react';\nimport { Link, useParams } from 'react-router-dom';\nimport { AuthContext } from '../../App'; // calendar\n\nimport format from 'date-fns/format';\n// component\nimport Calendar from './Calendar/Calendar';\nimport SpendingList from './SpendingList/SpendingList'; // api\n\nimport { getAllSpending } from '../../api/spending'; // function\n\nimport { useWindowDimensions } from '../../function/window';\nimport { getCalendarArray } from '../../function/calendar'; // css\n\nimport style from './Spending.module.scss';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\n\nconst Spending = () => {\n  _s();\n\n  const {\n    currentUser\n  } = useContext(AuthContext);\n  const urlParams = useParams();\n  const [targetDate, setTargetDate] = useState(new Date());\n  const initialSpendings = {\n    amountUsed: 0,\n    createdAt: null,\n    householdId: 0,\n    id: 0,\n    memo: \"\",\n    updatedAt: null,\n    usedAt: null\n  };\n  const [spendings, setSpendings] = useState([]);\n  const calendar = getCalendarArray(targetDate);\n  const width = useWindowDimensions();\n\n  const handleGetSpendings = async () => {\n    if (!currentUser) return;\n    const res = await getAllSpending(currentUser === null || currentUser === void 0 ? void 0 : currentUser.id, Number(urlParams.householdId));\n    console.log(res);\n\n    try {\n      if ((res === null || res === void 0 ? void 0 : res.status) !== 200) return;\n      setSpendings(res.data);\n    } catch (err) {\n      console.log(err);\n    }\n  };\n\n  useEffect(() => {\n    handleGetSpendings(); // eslint-disable-next-line react-hooks/exhaustive-deps\n  }, []);\n\n  const handleSpendings = () => {\n    console.log(spendings);\n  };\n\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: style.spendings,\n    children: [/*#__PURE__*/_jsxDEV(\"button\", {\n      onClick: handleSpendings,\n      children: \"\\u30C6\\u30B9\\u30C8\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 80,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: style.household_name,\n      children: [/*#__PURE__*/_jsxDEV(\"h2\", {\n        children: \"\\u5BB6\\u8A08\\u7C3F\\u540D\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 82,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n        children: \"\\u57FA\\u6E96\\u65E5: 12\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 83,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 81,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"h3\", {\n      className: style.month,\n      children: [format(targetDate, 'M月'), \": \\xA5100,000\"]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 85,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: style.household_main,\n      children: [/*#__PURE__*/_jsxDEV(Calendar, {\n        targetDate: targetDate,\n        setTargetDate: setTargetDate,\n        calendar: calendar,\n        spendings: spendings\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 87,\n        columnNumber: 9\n      }, this), width < 1100 ? /*#__PURE__*/_jsxDEV(\"div\", {\n        className: style.button,\n        children: [/*#__PURE__*/_jsxDEV(\"div\", {\n          className: style.amount_save,\n          children: /*#__PURE__*/_jsxDEV(Link, {\n            to: `/${urlParams.householdId}/spendings/addspending`,\n            children: \"\\u4F7F\\u3063\\u305F\\u91D1\\u984D\\u3092\\u8A18\\u9332\\u3059\\u308B\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 96,\n            columnNumber: 15\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 95,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: style.household_delete,\n          children: \"\\u5BB6\\u8A08\\u7C3F\\u3092\\u524A\\u9664\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 100,\n          columnNumber: 13\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 94,\n        columnNumber: 11\n      }, this) : '', /*#__PURE__*/_jsxDEV(SpendingList, {\n        targetDate: targetDate,\n        calendar: calendar\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 103,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 86,\n      columnNumber: 7\n    }, this), width >= 1100 ? /*#__PURE__*/_jsxDEV(\"div\", {\n      className: style.button_pc,\n      children: [/*#__PURE__*/_jsxDEV(\"div\", {\n        className: style.amount_save,\n        children: /*#__PURE__*/_jsxDEV(Link, {\n          to: `/${urlParams.householdId}/spendings/addspending`,\n          children: \"\\u4F7F\\u3063\\u305F\\u91D1\\u984D\\u3092\\u8A18\\u9332\\u3059\\u308B\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 111,\n          columnNumber: 13\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 110,\n        columnNumber: 11\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: style.household_delete,\n        children: \"\\u5BB6\\u8A08\\u7C3F\\u3092\\u524A\\u9664\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 115,\n        columnNumber: 11\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 109,\n      columnNumber: 9\n    }, this) : '']\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 79,\n    columnNumber: 5\n  }, this);\n};\n\n_s(Spending, \"RoeT8NtbMZwYCMEhrz3HQNwB8C4=\", false, function () {\n  return [useParams, useWindowDimensions];\n});\n\n_c = Spending;\nexport default Spending;\n\nvar _c;\n\n$RefreshReg$(_c, \"Spending\");","map":{"version":3,"sources":["/Users/taiki/Desktop/household/frontend/src/components/Spending/Spending.tsx"],"names":["React","useState","useEffect","useContext","Link","useParams","AuthContext","format","Calendar","SpendingList","getAllSpending","useWindowDimensions","getCalendarArray","style","Spending","currentUser","urlParams","targetDate","setTargetDate","Date","initialSpendings","amountUsed","createdAt","householdId","id","memo","updatedAt","usedAt","spendings","setSpendings","calendar","width","handleGetSpendings","res","Number","console","log","status","data","err","handleSpendings","household_name","month","household_main","button","amount_save","household_delete","button_pc"],"mappings":"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","sourcesContent":["import React, { useState, useEffect, useContext } from 'react';\nimport { Link, useParams } from 'react-router-dom';\nimport { AuthContext } from '../../App';\n\n// calendar\nimport format from 'date-fns/format';\nimport getDate from 'date-fns/getDate';\nimport getDay from 'date-fns/getDay';\nimport eachDayOfInterval from 'date-fns/eachDayOfInterval';\nimport endOfWeek from 'date-fns/endOfWeek';\nimport eachWeekOfInterval from 'date-fns/eachWeekOfInterval';\nimport addMonths from 'date-fns/addMonths';\nimport subMonths from 'date-fns/subMonths';\nimport startOfMonth from 'date-fns/startOfMonth';\nimport endOfMonth from 'date-fns/endOfMonth';\nimport addDays from 'date-fns/addDays';\n\n\n// component\nimport Calendar from './Calendar/Calendar';\nimport SpendingList from './SpendingList/SpendingList';\n\n// api\nimport { getAllSpending } from '../../api/spending';\n\n// function\nimport { useWindowDimensions } from '../../function/window';\nimport { getCalendarArray } from '../../function/calendar';\n\n// css\nimport style from './Spending.module.scss';\nimport { RouteComponentProps } from 'react-router-dom';\n\n\nconst Spending: React.FC = () => {\n  const { currentUser } = useContext(AuthContext);\n  const urlParams = useParams<{householdId: string}>();\n  const [targetDate, setTargetDate] = useState(new Date());\n\n  const initialSpendings = {\n    amountUsed: 0,\n    createdAt: null,\n    householdId: 0,\n    id: 0,\n    memo: \"\",\n    updatedAt: null,\n    usedAt: null,\n  };\n\n  const [spendings, setSpendings] = useState([]);\n\n  const calendar  = getCalendarArray(targetDate);\n\n  const width = useWindowDimensions();\n\n  const handleGetSpendings = async () => {\n    if(!currentUser) return\n    const res = await getAllSpending(currentUser?.id, Number(urlParams.householdId));\n    console.log(res);\n\n    try {\n      if (res?.status !== 200) return;\n      setSpendings(res.data);\n    } catch (err: any) {\n      console.log(err);\n    }\n  };\n\n  useEffect(() => {\n    handleGetSpendings();\n  // eslint-disable-next-line react-hooks/exhaustive-deps\n  }, [])\n\n  const handleSpendings = () => {\n    console.log(spendings);\n  };\n\n  return (\n    <div className={style.spendings}>\n      <button onClick={handleSpendings}>テスト</button>\n      <div className={style.household_name}>\n        <h2>家計簿名</h2>\n        <p>基準日: 12</p>\n      </div>\n      <h3 className={style.month}>{format(targetDate, 'M月')}: ¥100,000</h3>\n      <div className={style.household_main}>\n        <Calendar\n          targetDate={targetDate}\n          setTargetDate={setTargetDate}\n          calendar={calendar}\n          spendings={spendings}\n        />\n        { width < 1100 ? (\n          <div className={style.button}>\n            <div className={style.amount_save}>\n              <Link to={`/${urlParams.householdId}/spendings/addspending`}>\n                使った金額を記録する\n              </Link>\n            </div>\n            <div className={style.household_delete}>家計簿を削除</div>\n          </div>\n        ) : '' }\n        <SpendingList\n          targetDate={targetDate}\n          calendar={calendar}\n        />\n      </div>\n      {width >= 1100 ? (\n        <div className={style.button_pc}>\n          <div className={style.amount_save}>\n            <Link to={`/${urlParams.householdId}/spendings/addspending`}>\n              使った金額を記録する\n            </Link>\n          </div>\n          <div className={style.household_delete}>家計簿を削除</div>\n        </div>\n      ) : '' }\n    </div>\n  )\n}\n\nexport default Spending"]},"metadata":{},"sourceType":"module"}