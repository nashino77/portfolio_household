[{"/Users/taiki/Desktop/household/frontend/src/index.tsx":"1","/Users/taiki/Desktop/household/frontend/src/reportWebVitals.ts":"2","/Users/taiki/Desktop/household/frontend/src/App.tsx":"3","/Users/taiki/Desktop/household/frontend/src/urls/index.ts":"4","/Users/taiki/Desktop/household/frontend/src/api/auth.ts":"5","/Users/taiki/Desktop/household/frontend/src/components/Header/Header.tsx":"6","/Users/taiki/Desktop/household/frontend/src/components/Layout/Home.tsx":"7","/Users/taiki/Desktop/household/frontend/src/components/Auth/SignIn.tsx":"8","/Users/taiki/Desktop/household/frontend/src/components/Auth/SignUp.tsx":"9","/Users/taiki/Desktop/household/frontend/src/components/test/Test.tsx":"10","/Users/taiki/Desktop/household/frontend/src/components/Calendar/Calendar.tsx":"11"},{"size":642,"mtime":1651105014607,"results":"12","hashOfConfig":"13"},{"size":425,"mtime":1650674375552,"results":"14","hashOfConfig":"13"},{"size":2571,"mtime":1651113496374,"results":"15","hashOfConfig":"13"},{"size":1237,"mtime":1650763405770,"results":"16","hashOfConfig":"13"},{"size":1071,"mtime":1651042973239,"results":"17","hashOfConfig":"13"},{"size":123,"mtime":1650776201780,"results":"18","hashOfConfig":"13"},{"size":343,"mtime":1651113462514,"results":"19","hashOfConfig":"13"},{"size":2042,"mtime":1651043013616,"results":"20","hashOfConfig":"13"},{"size":2785,"mtime":1650784142774,"results":"21","hashOfConfig":"13"},{"size":2560,"mtime":1651048709520,"results":"22","hashOfConfig":"13"},{"size":2791,"mtime":1651113234267,"results":"23","hashOfConfig":"13"},{"filePath":"24","messages":"25","suppressedMessages":"26","errorCount":0,"fatalErrorCount":0,"warningCount":1,"fixableErrorCount":0,"fixableWarningCount":0,"source":"27","usedDeprecatedRules":"28"},"1ssuezc",{"filePath":"29","messages":"30","suppressedMessages":"31","errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"28"},{"filePath":"32","messages":"33","suppressedMessages":"34","errorCount":0,"fatalErrorCount":0,"warningCount":1,"fixableErrorCount":0,"fixableWarningCount":0,"source":"35"},{"filePath":"36","messages":"37","suppressedMessages":"38","errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"28"},{"filePath":"39","messages":"40","suppressedMessages":"41","errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"28"},{"filePath":"42","messages":"43","suppressedMessages":"44","errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"28"},{"filePath":"45","messages":"46","suppressedMessages":"47","errorCount":0,"fatalErrorCount":0,"warningCount":2,"fixableErrorCount":0,"fixableWarningCount":0,"source":"48","usedDeprecatedRules":"28"},{"filePath":"49","messages":"50","suppressedMessages":"51","errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"28"},{"filePath":"52","messages":"53","suppressedMessages":"54","errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"28"},{"filePath":"55","messages":"56","suppressedMessages":"57","errorCount":0,"fatalErrorCount":0,"warningCount":7,"fixableErrorCount":0,"fixableWarningCount":0,"source":"58","usedDeprecatedRules":"28"},{"filePath":"59","messages":"60","suppressedMessages":"61","errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"28"},"/Users/taiki/Desktop/household/frontend/src/index.tsx",["62"],[],"import React from 'react';\nimport ReactDOM from 'react-dom/client';\nimport './index.css';\nimport 'normalize.css';\nimport App from './App';\nimport reportWebVitals from './reportWebVitals';\nimport Calendar from './components/Calendar/Calendar';\n\nconst root = ReactDOM.createRoot(\n  document.getElementById('root') as HTMLElement\n);\nroot.render(\n  // <React.StrictMode>\n    <App />\n  /* </React.StrictMode> */\n);\n\n// If you want to start measuring performance in your app, pass a function\n// to log results (for example: reportWebVitals(console.log))\n// or send to an analytics endpoint. Learn more: https://bit.ly/CRA-vitals\nreportWebVitals();\n",[],"/Users/taiki/Desktop/household/frontend/src/reportWebVitals.ts",[],[],"/Users/taiki/Desktop/household/frontend/src/App.tsx",["63"],[],"import React, { useState, useEffect, createContext } from 'react';\nimport { BrowserRouter as Router, Switch, Route, Redirect } from 'react-router-dom';\n\n// component\nimport SignUp from './components/Auth/SignUp';\nimport SignIn from './components/Auth/SignIn';\nimport Home from './components/Layout/Home';\n\n// api\nimport { getCurrentUser } from './api/auth';\n\n// interface\nimport { User } from './interface';\nimport Header from './components/Header/Header';\nimport Calendar from './components/Calendar/Calendar';\n\nexport const AuthContext = createContext(\n  {} as {\n    loading: boolean,\n    setLoading: React.Dispatch<React.SetStateAction<boolean>>,\n    isSignedIn: boolean,\n    setIsSignedIn: React.Dispatch<React.SetStateAction<boolean>>,\n    currentUser: User | undefined,\n    setCurrentUser: React.Dispatch<React.SetStateAction<User | undefined>>,\n  }\n);\n\nconst App: React.FC = () => {\n  const [loading, setLoading] = useState<boolean>(true);\n  const [isSignedIn, setIsSignedIn] = useState<boolean>(false);\n  const [currentUser, setCurrentUser] = useState<User | undefined>();\n\n  // 認証済みユーザー情報の取得関数\n  const handleGetCurrentUser = async () => {\n    try {\n      const res = await getCurrentUser();\n      console.log(res);\n\n      if (res?.data.isLogin === true) {\n        setIsSignedIn(true);\n        setCurrentUser(res?.data.data);\n        // console.log(res?.data.data);\n      } else {\n        console.log(\"No current user\");\n      };\n    } catch (err : any) {\n      console.log(err);\n    }\n\n    setLoading(false);\n  };\n  \n  useEffect(() => {\n    handleGetCurrentUser();\n  }, [setCurrentUser]);\n\n  // ユーザー認証済みの判定で表示ページの変更\n  const Private = ({ children } : { children: React.ReactElement }) => {\n    if (!loading) {\n      if (isSignedIn) {\n        return children\n      } else {\n        return <Redirect to=\"/signin\" />\n      }\n    } else {\n      return <></>\n    };\n  };\n\n  return (\n    <>\n      <Router>\n        <AuthContext.Provider\n          value={{\n            loading,\n            setLoading,\n            isSignedIn,\n            setIsSignedIn,\n            currentUser,\n            setCurrentUser\n            }}\n          >\n          <Header />\n          <Switch>\n            <Route exact path=\"/signup\" component={SignUp} />\n            <Route exact path=\"/signin\" component={SignIn} />\n            <Private>\n              <Route exact path=\"/\" component={Home} />\n            </Private>\n          </Switch>\n        </AuthContext.Provider>\n      </Router>\n    </>\n  );\n}\n\nexport default App;\n","/Users/taiki/Desktop/household/frontend/src/urls/index.ts",[],[],"/Users/taiki/Desktop/household/frontend/src/api/auth.ts",[],[],"/Users/taiki/Desktop/household/frontend/src/components/Header/Header.tsx",[],[],"/Users/taiki/Desktop/household/frontend/src/components/Layout/Home.tsx",["64","65"],[],"import React, { useContext } from 'react';\nimport { AuthContext } from '../../App';\nimport Test from '../test/Test';\nimport Calendar from '../Calendar/Calendar'\n\nconst Home: React.FC = () => {\n  const { isSignedIn, currentUser } = useContext(AuthContext);\n\n  return (\n    <>\n      <Test />\n      <Calendar />\n    </>\n  )\n}\n\nexport default Home","/Users/taiki/Desktop/household/frontend/src/components/Auth/SignIn.tsx",[],[],"/Users/taiki/Desktop/household/frontend/src/components/Auth/SignUp.tsx",[],[],"/Users/taiki/Desktop/household/frontend/src/components/test/Test.tsx",["66","67","68","69","70","71","72"],[],"import axios from 'axios';\nimport Cookies from 'js-cookie';\nimport React, { useContext, useState, useEffect } from 'react'\nimport { AuthContext } from '../../App';\n\n// url\nimport { \n  indexUser,\n  indexUserId,\n  householdIndex,\n  householdIndexId,\n  spendingIndex, \n  spendingIndexId,\n  signInUser,\n} from '../../urls';\n\n// interface\nimport { User } from '../../interface';\n\ninterface Household {\n  id: number;\n  household_id: string;\n  name: string;\n  refernce_at: number;\n  user_id: number;\n  created_at: Date;\n  updated_at: Date;\n}\n\nconst Test: React.FC = () => {\n  const { isSignedIn, currentUser } = useContext(AuthContext);\n  const [currentHouseholds, setCurrentHouseholds] = useState([]);\n\n\n  const handleGetUser = () => {\n    if (currentUser) {\n      axios.get(`${indexUserId(currentUser.id)}`, { \n          headers: {\n            \"access-token\": Cookies.get(\"_access_token\") || \"\",\n            \"client\": Cookies.get(\"_client\") || \"\",\n            \"uid\": Cookies.get(\"_uid\") || \"\",\n          },\n        })\n        .then((res) => {\n          console.log(res.data);\n        });\n    };\n  };\n\n  const handleGetAllUser = () => {\n    axios.get(indexUser)\n      .then((res) => {\n        console.log(res.data);\n      })\n      .catch((e) => console.log(e));\n  };\n\n  const handleGetHousehold = (id: any) => {\n    if (currentUser) {\n      axios.get(`${householdIndex(currentUser.id)}/${id}`,{ \n        headers: {\n          \"access-token\": Cookies.get(\"_access_token\") || \"\",\n          \"client\": Cookies.get(\"_client\") || \"\",\n          \"uid\": Cookies.get(\"_uid\") || \"\",\n        },\n      })\n        .then((res) => {\n          console.log(res.data);\n        })\n    }\n  }\n\n  useEffect(() => {\n    if (currentUser) {\n      axios.get(householdIndex(currentUser.id),{ \n        headers: {\n          \"access-token\": Cookies.get(\"_access_token\") || \"\",\n          \"client\": Cookies.get(\"_client\") || \"\",\n          \"uid\": Cookies.get(\"_uid\") || \"\",\n        },\n      })\n        .then((res) => {\n          console.log(res.data);\n          setCurrentHouseholds(res.data);\n        })\n        .catch((e) => {\n          console.log(e);\n        })\n    };\n  }, [])\n\n  return (\n    <>\n      <button onClick={handleGetUser} >テスト</button>\n      <button onClick={handleGetAllUser} >Users</button>\n      {\n        currentHouseholds.map((household: Household) => (\n          <div key={household.id}>\n            {household.name}\n            <button onClick={() => handleGetHousehold(household.id)}>送信</button>\n          </div>\n        ))\n      }\n    </>\n  )\n}\n\nexport default Test","/Users/taiki/Desktop/household/frontend/src/components/Calendar/Calendar.tsx",[],[],{"ruleId":"73","severity":1,"message":"74","line":7,"column":8,"nodeType":"75","messageId":"76","endLine":7,"endColumn":16},{"ruleId":"73","severity":1,"message":"74","line":15,"column":8,"nodeType":"75","messageId":"76","endLine":15,"endColumn":16},{"ruleId":"73","severity":1,"message":"77","line":7,"column":11,"nodeType":"75","messageId":"76","endLine":7,"endColumn":21},{"ruleId":"73","severity":1,"message":"78","line":7,"column":23,"nodeType":"75","messageId":"76","endLine":7,"endColumn":34},{"ruleId":"73","severity":1,"message":"79","line":11,"column":3,"nodeType":"75","messageId":"76","endLine":11,"endColumn":19},{"ruleId":"73","severity":1,"message":"80","line":12,"column":3,"nodeType":"75","messageId":"76","endLine":12,"endColumn":16},{"ruleId":"73","severity":1,"message":"81","line":13,"column":3,"nodeType":"75","messageId":"76","endLine":13,"endColumn":18},{"ruleId":"73","severity":1,"message":"82","line":14,"column":3,"nodeType":"75","messageId":"76","endLine":14,"endColumn":13},{"ruleId":"73","severity":1,"message":"83","line":18,"column":10,"nodeType":"75","messageId":"76","endLine":18,"endColumn":14},{"ruleId":"73","severity":1,"message":"77","line":31,"column":11,"nodeType":"75","messageId":"76","endLine":31,"endColumn":21},{"ruleId":"84","severity":1,"message":"85","line":90,"column":6,"nodeType":"86","endLine":90,"endColumn":8,"suggestions":"87"},"@typescript-eslint/no-unused-vars","'Calendar' is defined but never used.","Identifier","unusedVar","'isSignedIn' is assigned a value but never used.","'currentUser' is assigned a value but never used.","'householdIndexId' is defined but never used.","'spendingIndex' is defined but never used.","'spendingIndexId' is defined but never used.","'signInUser' is defined but never used.","'User' is defined but never used.","react-hooks/exhaustive-deps","React Hook useEffect has a missing dependency: 'currentUser'. Either include it or remove the dependency array.","ArrayExpression",["88"],{"desc":"89","fix":"90"},"Update the dependencies array to be: [currentUser]",{"range":"91","text":"92"},[2137,2139],"[currentUser]"]