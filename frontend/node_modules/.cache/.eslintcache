[{"/Users/taiki/Desktop/household/frontend/src/index.tsx":"1","/Users/taiki/Desktop/household/frontend/src/reportWebVitals.ts":"2","/Users/taiki/Desktop/household/frontend/src/App.tsx":"3","/Users/taiki/Desktop/household/frontend/src/urls/index.ts":"4","/Users/taiki/Desktop/household/frontend/src/api/auth.ts":"5","/Users/taiki/Desktop/household/frontend/src/components/Header/Header.tsx":"6","/Users/taiki/Desktop/household/frontend/src/components/Layout/Home.tsx":"7","/Users/taiki/Desktop/household/frontend/src/components/Auth/SignIn.tsx":"8","/Users/taiki/Desktop/household/frontend/src/components/Auth/SignUp.tsx":"9","/Users/taiki/Desktop/household/frontend/src/components/test/Test.tsx":"10","/Users/taiki/Desktop/household/frontend/src/components/Calendar/Calendar.tsx":"11","/Users/taiki/Desktop/household/frontend/src/components/Header/MobileModal/MobileModal.tsx":"12"},{"size":647,"mtime":1651200315195,"results":"13","hashOfConfig":"14"},{"size":425,"mtime":1650674375552,"results":"15","hashOfConfig":"14"},{"size":2848,"mtime":1651217726099,"results":"16","hashOfConfig":"14"},{"size":740,"mtime":1651192932084,"results":"17","hashOfConfig":"14"},{"size":1071,"mtime":1651042973239,"results":"18","hashOfConfig":"14"},{"size":2067,"mtime":1651218297826,"results":"19","hashOfConfig":"14"},{"size":328,"mtime":1651198832724,"results":"20","hashOfConfig":"14"},{"size":2042,"mtime":1651043013616,"results":"21","hashOfConfig":"14"},{"size":2785,"mtime":1650784142774,"results":"22","hashOfConfig":"14"},{"size":2560,"mtime":1651048709520,"results":"23","hashOfConfig":"14"},{"size":2966,"mtime":1651194864159,"results":"24","hashOfConfig":"14"},{"size":1473,"mtime":1651277593493,"results":"25","hashOfConfig":"14"},{"filePath":"26","messages":"27","suppressedMessages":"28","errorCount":0,"fatalErrorCount":0,"warningCount":1,"fixableErrorCount":0,"fixableWarningCount":0,"source":"29","usedDeprecatedRules":"30"},"1ssuezc",{"filePath":"31","messages":"32","suppressedMessages":"33","errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"34"},{"filePath":"35","messages":"36","suppressedMessages":"37","errorCount":0,"fatalErrorCount":0,"warningCount":1,"fixableErrorCount":0,"fixableWarningCount":0,"source":"38","usedDeprecatedRules":"30"},{"filePath":"39","messages":"40","suppressedMessages":"41","errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"30"},{"filePath":"42","messages":"43","suppressedMessages":"44","errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"34"},{"filePath":"45","messages":"46","suppressedMessages":"47","errorCount":0,"fatalErrorCount":0,"warningCount":3,"fixableErrorCount":0,"fixableWarningCount":0,"source":"48","usedDeprecatedRules":"30"},{"filePath":"49","messages":"50","suppressedMessages":"51","errorCount":0,"fatalErrorCount":0,"warningCount":3,"fixableErrorCount":0,"fixableWarningCount":0,"source":"52","usedDeprecatedRules":"30"},{"filePath":"53","messages":"54","suppressedMessages":"55","errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"34"},{"filePath":"56","messages":"57","suppressedMessages":"58","errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"34"},{"filePath":"59","messages":"60","suppressedMessages":"61","errorCount":0,"fatalErrorCount":0,"warningCount":7,"fixableErrorCount":0,"fixableWarningCount":0,"source":"62","usedDeprecatedRules":"34"},{"filePath":"63","messages":"64","suppressedMessages":"65","errorCount":0,"fatalErrorCount":0,"warningCount":6,"fixableErrorCount":0,"fixableWarningCount":0,"source":"66","usedDeprecatedRules":"30"},{"filePath":"67","messages":"68","suppressedMessages":"69","errorCount":0,"fatalErrorCount":0,"warningCount":2,"fixableErrorCount":0,"fixableWarningCount":0,"source":"70"},"/Users/taiki/Desktop/household/frontend/src/index.tsx",["71"],[],"import React from 'react';\nimport ReactDOM from 'react-dom/client';\nimport 'normalize.css';\nimport './index.module.scss';\nimport App from './App';\nimport reportWebVitals from './reportWebVitals';\nimport Calendar from './components/Calendar/Calendar';\n\nconst root = ReactDOM.createRoot(\n  document.getElementById('root') as HTMLElement\n);\nroot.render(\n  // <React.StrictMode>\n    <App />\n  // </React.StrictMode>\n);\n\n// If you want to start measuring performance in your app, pass a function\n// to log results (for example: reportWebVitals(console.log))\n// or send to an analytics endpoint. Learn more: https://bit.ly/CRA-vitals\nreportWebVitals();\n",[],"/Users/taiki/Desktop/household/frontend/src/reportWebVitals.ts",[],[],[],"/Users/taiki/Desktop/household/frontend/src/App.tsx",["72"],[],"import React, { useState, useEffect, createContext } from 'react';\nimport { BrowserRouter as Router, Switch, Route, Redirect } from 'react-router-dom';\n\n// component\nimport SignUp from './components/Auth/SignUp';\nimport SignIn from './components/Auth/SignIn';\nimport Home from './components/Layout/Home';\nimport Header from './components/Header/Header';\n\n// api\nimport { getCurrentUser } from './api/auth';\n\n// interface\nimport { User } from './interface';\nimport Calendar from './components/Calendar/Calendar';\n\n// css\nimport style from './App.module.scss';\n\nexport const AuthContext = createContext(\n  {} as {\n    loading: boolean,\n    setLoading: React.Dispatch<React.SetStateAction<boolean>>,\n    isSignedIn: boolean,\n    setIsSignedIn: React.Dispatch<React.SetStateAction<boolean>>,\n    currentUser: User | undefined,\n    setCurrentUser: React.Dispatch<React.SetStateAction<User | undefined>>,\n    modalOpen: boolean,\n    setModalOpen: React.Dispatch<React.SetStateAction<boolean>>,\n  }\n);\n\nconst App: React.FC = () => {\n  const [loading, setLoading] = useState<boolean>(true);\n  const [isSignedIn, setIsSignedIn] = useState<boolean>(false);\n  const [currentUser, setCurrentUser] = useState<User | undefined>();\n  const [modalOpen, setModalOpen] = useState<boolean>(false);\n\n  // 認証済みユーザー情報の取得関数\n  const handleGetCurrentUser = async () => {\n    try {\n      const res = await getCurrentUser();\n      console.log(res);\n\n      if (res?.data.isLogin === true) {\n        setIsSignedIn(true);\n        setCurrentUser(res?.data.data);\n        // console.log(res?.data.data);\n      } else {\n        console.log(\"No current user\");\n      };\n    } catch (err : any) {\n      console.log(err);\n    }\n\n    setLoading(false);\n  };\n  \n  useEffect(() => {\n    handleGetCurrentUser();\n  }, [setCurrentUser]);\n\n  // ユーザー認証済みの判定で表示ページの変更\n  const Private = ({ children } : { children: React.ReactElement }) => {\n    if (!loading) {\n      if (isSignedIn) {\n        return children\n      } else {\n        return <Redirect to=\"/signin\" />\n      }\n    } else {\n      return <></>\n    };\n  };\n\n  return (\n    <div className={style.body}>\n      <Router>\n        <AuthContext.Provider\n          value={{\n            loading,\n            setLoading,\n            isSignedIn,\n            setIsSignedIn,\n            currentUser,\n            setCurrentUser,\n            modalOpen,\n            setModalOpen,\n            }}\n          >\n          <Header />\n          <Switch>\n            <Route exact path=\"/signup\" component={SignUp} />\n            <Route exact path=\"/signin\" component={SignIn} />\n            <Private>\n              <Route exact path=\"/\" component={Home} />\n            </Private>\n          </Switch>\n        </AuthContext.Provider>\n      </Router>\n    </div>\n  );\n}\n\nexport default App;\n","/Users/taiki/Desktop/household/frontend/src/urls/index.ts",[],[],"/Users/taiki/Desktop/household/frontend/src/api/auth.ts",[],[],"/Users/taiki/Desktop/household/frontend/src/components/Header/Header.tsx",["73","74","75"],[],"import React, {  useState, useEffect, useContext } from 'react';\nimport { useHistory } from 'react-router-dom';\nimport Cookies from 'js-cookie';\nimport { AuthContext } from '../../App';\n\n// component\nimport { signOut } from '../../api/auth';\n\n//css\nimport style from './Header.module.scss';\n\n// image\nimport MobileMenuButton from '../../image/mobileMenu.png';\nimport MobileModal from './MobileModal/MobileModal';\nimport { Link } from 'react-router-dom';\n\nconst Header: React.FC = () => {\n  const history = useHistory();\n\n  const { \n    isSignedIn, \n    setIsSignedIn, \n    currentUser, \n    modalOpen, \n    setModalOpen \n  } = useContext(AuthContext);\n\n  const handleModal = () => {\n    setModalOpen(!modalOpen);\n    console.log(modalOpen);\n  };\n\n  const handleSignout = async () => {\n    try {\n      const res = await signOut();\n  \n      if(res.data.success === true) {\n        Cookies.remove(\"_access_token\");\n        Cookies.remove(\"_client\");\n        Cookies.remove(\"_uid\");\n  \n        setIsSignedIn(false);\n        history.push(\"/signin\");\n  \n        console.log('サインアウトしました')\n      } else {\n        console.log('サインアウトに失敗しました')\n        alert('サインアウトできませんでした')\n      }\n    } catch (err: any) {\n      console.log(err);\n      alert('サインアウトできませんでした')\n    }\n  };\n\n  return (\n    <>\n      <div className={style.header}>\n        <h1>わたしのクレジットカード</h1>\n        <div className={style.mobilemenu}>\n          <img onClick={handleModal} src={MobileMenuButton} alt='header menu' />\n        </div>\n\n        <ul className={style.pcmenu}>\n          <li>家計簿を選ぶ</li>\n          <li>{ isSignedIn ? <span onClick={handleSignout}>サインアウト</span> : <Link to='/signin'>サインイン</Link>}</li>\n        </ul>\n      </div>\n      {\n        modalOpen && (\n          <>\n            <div className={style.modalback} onClick={handleModal}></div>\n            <MobileModal/>\n          </>\n        )\n      }\n    </>\n  )\n}\n\nexport default Header","/Users/taiki/Desktop/household/frontend/src/components/Layout/Home.tsx",["76","77","78"],[],"import React, { useContext } from 'react';\nimport { AuthContext } from '../../App';\nimport Test from '../test/Test';\nimport Calendar from '../Calendar/Calendar'\n\nconst Home: React.FC = () => {\n  const { isSignedIn, currentUser } = useContext(AuthContext);\n\n  return (\n    <>\n      <Calendar />\n    </>\n  )\n}\n\nexport default Home","/Users/taiki/Desktop/household/frontend/src/components/Auth/SignIn.tsx",[],[],"/Users/taiki/Desktop/household/frontend/src/components/Auth/SignUp.tsx",[],[],"/Users/taiki/Desktop/household/frontend/src/components/test/Test.tsx",["79","80","81","82","83","84","85"],[],"import axios from 'axios';\nimport Cookies from 'js-cookie';\nimport React, { useContext, useState, useEffect } from 'react'\nimport { AuthContext } from '../../App';\n\n// url\nimport { \n  indexUser,\n  indexUserId,\n  householdIndex,\n  householdIndexId,\n  spendingIndex, \n  spendingIndexId,\n  signInUser,\n} from '../../urls';\n\n// interface\nimport { User } from '../../interface';\n\ninterface Household {\n  id: number;\n  household_id: string;\n  name: string;\n  refernce_at: number;\n  user_id: number;\n  created_at: Date;\n  updated_at: Date;\n}\n\nconst Test: React.FC = () => {\n  const { isSignedIn, currentUser } = useContext(AuthContext);\n  const [currentHouseholds, setCurrentHouseholds] = useState([]);\n\n\n  const handleGetUser = () => {\n    if (currentUser) {\n      axios.get(`${indexUserId(currentUser.id)}`, { \n          headers: {\n            \"access-token\": Cookies.get(\"_access_token\") || \"\",\n            \"client\": Cookies.get(\"_client\") || \"\",\n            \"uid\": Cookies.get(\"_uid\") || \"\",\n          },\n        })\n        .then((res) => {\n          console.log(res.data);\n        });\n    };\n  };\n\n  const handleGetAllUser = () => {\n    axios.get(indexUser)\n      .then((res) => {\n        console.log(res.data);\n      })\n      .catch((e) => console.log(e));\n  };\n\n  const handleGetHousehold = (id: any) => {\n    if (currentUser) {\n      axios.get(`${householdIndex(currentUser.id)}/${id}`,{ \n        headers: {\n          \"access-token\": Cookies.get(\"_access_token\") || \"\",\n          \"client\": Cookies.get(\"_client\") || \"\",\n          \"uid\": Cookies.get(\"_uid\") || \"\",\n        },\n      })\n        .then((res) => {\n          console.log(res.data);\n        })\n    }\n  }\n\n  useEffect(() => {\n    if (currentUser) {\n      axios.get(householdIndex(currentUser.id),{ \n        headers: {\n          \"access-token\": Cookies.get(\"_access_token\") || \"\",\n          \"client\": Cookies.get(\"_client\") || \"\",\n          \"uid\": Cookies.get(\"_uid\") || \"\",\n        },\n      })\n        .then((res) => {\n          console.log(res.data);\n          setCurrentHouseholds(res.data);\n        })\n        .catch((e) => {\n          console.log(e);\n        })\n    };\n  }, [])\n\n  return (\n    <>\n      <button onClick={handleGetUser} >テスト</button>\n      <button onClick={handleGetAllUser} >Users</button>\n      {\n        currentHouseholds.map((household: Household) => (\n          <div key={household.id}>\n            {household.name}\n            <button onClick={() => handleGetHousehold(household.id)}>送信</button>\n          </div>\n        ))\n      }\n    </>\n  )\n}\n\nexport default Test","/Users/taiki/Desktop/household/frontend/src/components/Calendar/Calendar.tsx",["86","87","88","89","90","91"],[],"import React, { useState, useEffect, useContext } from 'react';\nimport axios from 'axios';\nimport Cookies from 'js-cookie';\nimport { AuthContext } from '../../App';\n\nimport format from 'date-fns/format';\nimport getDate from 'date-fns/getDate';\nimport getDay from 'date-fns/getDay';\nimport eachDayOfInterval from 'date-fns/eachDayOfInterval';\nimport endOfWeek from 'date-fns/endOfWeek';\nimport eachWeekOfInterval from 'date-fns/eachWeekOfInterval';\nimport addMonths from 'date-fns/addMonths';\nimport subMonths from 'date-fns/subMonths';\nimport startOfMonth from 'date-fns/startOfMonth';\nimport endOfMonth from 'date-fns/endOfMonth';\nimport addDays from 'date-fns/addDays';\n\nimport style from './Calendar.module.scss';\n\nconst getCalendarArray = (date: Date) => {\n  const sundays = eachWeekOfInterval({\n    start: startOfMonth(date),\n    end: endOfMonth(date),\n  });\n\n  return sundays.map((sunday) => \n    eachDayOfInterval({ start: sunday, end: endOfWeek(sunday) })\n  );\n};\n\n\nconst Calendar: React.FC = () => {\n  const [targetDate, setTargetDate] = useState(new Date())\n  const calendar = getCalendarArray(targetDate);\n  \n  return (\n    <div  style={{ width: '700px', margin: '0 auto', userSelect: 'none' }}>\n      <div style={{ textAlign: 'center' }}>Calendar</div>\n      <div>\n        <div style={{ textAlign: 'center' }}>\n          <button onClick={() => setTargetDate(current => subMonths(current, 1))}>前の月</button>\n          <button onClick={() => setTargetDate(new Date())}>今月</button>\n          <button onClick={() => setTargetDate(current => addMonths(current, 1))}>次の月</button>\n        </div>\n        {format(targetDate, 'y年M月')}\n        <table style={{ textAlign: 'center' }}>\n          <thead>\n            <tr>\n              <th>日</th>\n              <th>月</th>\n              <th>火</th>\n              <th>水</th>\n              <th>木</th>\n              <th>金</th>\n              <th>土</th>\n            </tr>\n          </thead>\n          <tbody>\n            {\n              calendar.map((weekRow, rowNum) => (\n                <tr key={rowNum}>\n                  {\n                    weekRow.map((date) => (\n                      <td \n                        key={getDay(date)} \n                        \n                      >\n                        <div \n                          className={\n                            getDay(date) === 0 ? style.day : '' || \n                            getDay(date) === 6 ? style.lastday : '' \n                        }>\n                          {getDate(date)}\n                        </div>\n                        {/* <div style={{ width: '100px', height: '50px' }} className={style.calendar}>\n                          {getDate(date)}\n                        </div> */}\n                      </td>\n                    ))\n                  }\n                </tr>\n              ))\n            }\n          </tbody>\n        </table>\n      </div>\n    </div>\n  )\n}\n\nexport default Calendar","/Users/taiki/Desktop/household/frontend/src/components/Header/MobileModal/MobileModal.tsx",["92","93"],[],"import React, { useContext } from 'react';\nimport Cookies from 'js-cookie';\nimport { Link, useHistory } from 'react-router-dom';\nimport { AuthContext } from '../../../App';\n\n// component\nimport { signOut } from '../../../api/auth';\n\n// css\nimport style from './MobileModal.module.scss';\n\n\nconst MobileModal: React.FC = () => {\n  const history = useHistory();\n  const { isSignedIn, setIsSignedIn, currentUser, modalOpen } = useContext(AuthContext); \n\n  const handleSignout = async () => {\n    try {\n      const res = await signOut();\n  \n      if(res.data.success === true) {\n        Cookies.remove(\"_access_token\");\n        Cookies.remove(\"_client\");\n        Cookies.remove(\"_uid\");\n  \n        setIsSignedIn(false);\n        history.push(\"/signin\");\n  \n        console.log('サインアウトしました')\n      } else {\n        console.log('サインアウトに失敗しました')\n        alert('サインアウトできませんでした')\n      }\n    } catch (err: any) {\n      console.log(err);\n      alert('サインアウトできませんでした')\n    }\n    \n  };\n  \n\n\n  return (\n      <div className={style.mobilemodal}>\n        <div className={style.inner}>\n          <div className={style.list}>\n            <p>家計簿を<br />選ぶ</p>\n            { isSignedIn ? <p onClick={handleSignout}>サイン<br />アウト</p> : <p><Link to='/singin'>サイン<br />イン</Link></p> }\n          </div>\n        </div>\n      </div>\n  )\n}\n\nexport default MobileModal",{"ruleId":"94","severity":1,"message":"95","line":7,"column":8,"nodeType":"96","messageId":"97","endLine":7,"endColumn":16},{"ruleId":"94","severity":1,"message":"95","line":15,"column":8,"nodeType":"96","messageId":"97","endLine":15,"endColumn":16},{"ruleId":"94","severity":1,"message":"98","line":1,"column":18,"nodeType":"96","messageId":"97","endLine":1,"endColumn":26},{"ruleId":"94","severity":1,"message":"99","line":1,"column":28,"nodeType":"96","messageId":"97","endLine":1,"endColumn":37},{"ruleId":"94","severity":1,"message":"100","line":23,"column":5,"nodeType":"96","messageId":"97","endLine":23,"endColumn":16},{"ruleId":"94","severity":1,"message":"101","line":3,"column":8,"nodeType":"96","messageId":"97","endLine":3,"endColumn":12},{"ruleId":"94","severity":1,"message":"102","line":7,"column":11,"nodeType":"96","messageId":"97","endLine":7,"endColumn":21},{"ruleId":"94","severity":1,"message":"100","line":7,"column":23,"nodeType":"96","messageId":"97","endLine":7,"endColumn":34},{"ruleId":"94","severity":1,"message":"103","line":11,"column":3,"nodeType":"96","messageId":"97","endLine":11,"endColumn":19},{"ruleId":"94","severity":1,"message":"104","line":12,"column":3,"nodeType":"96","messageId":"97","endLine":12,"endColumn":16},{"ruleId":"94","severity":1,"message":"105","line":13,"column":3,"nodeType":"96","messageId":"97","endLine":13,"endColumn":18},{"ruleId":"94","severity":1,"message":"106","line":14,"column":3,"nodeType":"96","messageId":"97","endLine":14,"endColumn":13},{"ruleId":"94","severity":1,"message":"107","line":18,"column":10,"nodeType":"96","messageId":"97","endLine":18,"endColumn":14},{"ruleId":"94","severity":1,"message":"102","line":31,"column":11,"nodeType":"96","messageId":"97","endLine":31,"endColumn":21},{"ruleId":"108","severity":1,"message":"109","line":90,"column":6,"nodeType":"110","endLine":90,"endColumn":8,"suggestions":"111"},{"ruleId":"94","severity":1,"message":"99","line":1,"column":27,"nodeType":"96","messageId":"97","endLine":1,"endColumn":36},{"ruleId":"94","severity":1,"message":"112","line":1,"column":38,"nodeType":"96","messageId":"97","endLine":1,"endColumn":48},{"ruleId":"94","severity":1,"message":"113","line":2,"column":8,"nodeType":"96","messageId":"97","endLine":2,"endColumn":13},{"ruleId":"94","severity":1,"message":"114","line":3,"column":8,"nodeType":"96","messageId":"97","endLine":3,"endColumn":15},{"ruleId":"94","severity":1,"message":"115","line":4,"column":10,"nodeType":"96","messageId":"97","endLine":4,"endColumn":21},{"ruleId":"94","severity":1,"message":"116","line":16,"column":8,"nodeType":"96","messageId":"97","endLine":16,"endColumn":15},{"ruleId":"94","severity":1,"message":"100","line":15,"column":38,"nodeType":"96","messageId":"97","endLine":15,"endColumn":49},{"ruleId":"94","severity":1,"message":"117","line":15,"column":51,"nodeType":"96","messageId":"97","endLine":15,"endColumn":60},"@typescript-eslint/no-unused-vars","'Calendar' is defined but never used.","Identifier","unusedVar","'useState' is defined but never used.","'useEffect' is defined but never used.","'currentUser' is assigned a value but never used.","'Test' is defined but never used.","'isSignedIn' is assigned a value but never used.","'householdIndexId' is defined but never used.","'spendingIndex' is defined but never used.","'spendingIndexId' is defined but never used.","'signInUser' is defined but never used.","'User' is defined but never used.","react-hooks/exhaustive-deps","React Hook useEffect has a missing dependency: 'currentUser'. Either include it or remove the dependency array.","ArrayExpression",["118"],"'useContext' is defined but never used.","'axios' is defined but never used.","'Cookies' is defined but never used.","'AuthContext' is defined but never used.","'addDays' is defined but never used.","'modalOpen' is assigned a value but never used.",{"desc":"119","fix":"120"},"Update the dependencies array to be: [currentUser]",{"range":"121","text":"122"},[2137,2139],"[currentUser]"]